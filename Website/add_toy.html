<html>
    <head>
        <title>Vestine's 3D Stuff</title>
        <link rel="stylesheet" href="css/style.css">
    </head>

    <body>

        <div class="headerBar">
            <a href="index.html"><img class="headerLogo" src="images/Vestines3DStuffLogo.png"></a>
            <div class="headerSpacer"></div>
            <input class="headerSearchInput" type="text" placeholder="Search..."/>
            <button class="headerSearchButton">
        </div>
        <div class="logout">
        <button type="Logout">Logout</button>
        </div>

        <div class="formWrapper">
            
            <section>
                <label for="name">Name</label>
                <input type="text" id="name" name="name" placeholder="Key holder">

                <label for="description">Description</label>
                <input type="text" id="description" name="description" placeholder="A red key holder">

                <label for="image">Image</label>
                <input type="image"><img alt="image" id="image" src="images/Key holder.jpg" width="100" height="100"/>
                <div class="replace">
                    <button type="image">Replace Image</button>
                </div>

                <label for="category">Category </label>
                <select id="category" name="category">
                    <option value="Toys">Toys</option>
                    <option value="Mental casting">Mental casting</option>
                    <option value="Earing">Earing</option>
                    <option value="Key holders">Key holders</option>
                </select>

                <label for="status">Status </label>
                <select id="status" name="status">
                    <option value="Public">Public</option>
                    <option value="Private">Private</option>
                </select>
                        
                <div class="y">
                    <a href="list_toys.html"><button type="cancel">Cancel</button></a>
                    <button type="save changes" onclick="createToy()">Create toy</button>
                </div>

            </section>

        </div>
    </body>

    <script>
        async function createToy() {
            let newToy = {
                "name": document.getElementById("name").value,
                "description": document.getElementById("description").value,
                "image": document.getElementById("image").src,
                "category": document.getElementById("category").value,
                "status": document.getElementById("status").value
            }

            // CHALLENGE: Update this so that it correctly adds the new toy!
            // And then sends the user back to the toy list.
            await fetch(
                `http://ec2-3-8-117-104.eu-west-2.compute.amazonaws.com:8080/vestines3dstuff/toys/${id}`,
                {
                    method: "PUT",
                    body: JSON.stringify(updatedToy),
                    headers: {'Content-Type': 'application/json'}
                },
            );
        }
    </script>
</html>